I would like you to write a script that analyzes the text to image prompt in the metadata of a Stable Diffusion file and assigns the image certain tags. The script will create and maintain a text file that contains all the tags created so far, adding new tags as appropriate. Since this calls for a certain amount of language judgment, we're going to want to have it use an API to either send calls to Gemini, GPT, Claude, or a local LLM. The low level of sophistication required makes me think a smaller 8B model run locally through the oobabooga text gen webui might be the way. I'd like your opinion on the best way to achieve that end. Each time it's run, it processes all the image files in its folder, checking first to see if it's already processed a file. Might not be a bad idea to add the tags to the metadata in the file while we're at it. I'd also like the LLM to generate a short description of the image based on the prompt, but more concise and in readable English. In addition to the list of tags stored in a text file, each time it's run it creates a CSV for the files following this format, note that while the tags and description will be generated, the title field is just the prompt:

file_name,local_path,title,description,tags
00000-quidamn_3d_model_of_a_cartoon_sleeping_sloth_with_laptop_in_the_45ede374-76ff-4c57-ac3b-3a967a38171d.jpg,00000-quidamn_3d_model_of_a_cartoon_sleeping_sloth_with_laptop_in_the_45ede374-76ff-4c57-ac3b-3a967a38171d.jpg,3d model of a cartoon sleeping sloth with laptop,lined journal,"journal, books, reading"
00000-quidamn_3d_render_of_spaceship_interior_with_blue_lightglowing__4308a803-3e3f-4b68-a1e5-650674075495.jpg,00000-quidamn_3d_render_of_spaceship_interior_with_blue_lightglowing__4308a803-3e3f-4b68-a1e5-650674075495.jpg,3d render of spaceship interior with blue light glowing,lined journal,"journal, books, reading"
00001-quidamn_8K_Indianapolis_skyline_in_detailed_mosaic_style_with_l_11d2968e-ef5d-48d0-9eae-d1ae6bb98c92.jpg,00001-quidamn_8K_Indianapolis_skyline_in_detailed_mosaic_style_with_l_11d2968e-ef5d-48d0-9eae-d1ae6bb98c92.jpg,8K Indianapolis skyline in detailed mosaic style with lights,lined journal,"journal, books, reading"
00002-quidamn_a_3d_schematic_of_a_small_village_with_mountains_in_the_f53b45a8-5ea1-432f-8449-61008ae21b8f.jpg,00002-quidamn_a_3d_schematic_of_a_small_village_with_mountains_in_the_f53b45a8-5ea1-432f-8449-61008ae21b8f.jpg,a 3d schematic of a small village with mountains in the background,lined journal,"journal, books, reading"
00011-quidamn_a_close_up_of_an_elaborate_body_art_design_on_the_full__8e0a89b0-18ae-4f56-8f2a-667556decb7f.jpg,00011-quidamn_a_close_up_of_an_elaborate_body_art_design_on_the_full__8e0a89b0-18ae-4f56-8f2a-667556decb7f.jpg,a close up of an elaborate body art design on the full back of a woman,lined journal,"journal, books, reading"
00050-quidamn_Boho_Aesthetic_print_of_a_Cute_Retro_Floral_adorable_Gh_9d58cdfe-3800-441c-80c0-7df096bbc96c.jpg,00050-quidamn_Boho_Aesthetic_print_of_a_Cute_Retro_Floral_adorable_Gh_9d58cdfe-3800-441c-80c0-7df096bbc96c.jpg,Boho Aesthetic print of a Cute Retro Floral adorable Ghost holding a Daisy,lined journal,"journal, books, reading"

